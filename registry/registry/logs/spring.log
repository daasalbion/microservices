2023-08-17T12:30:13.162-04:00  INFO 25291 --- [main] p.c.d.m.r.RegistryApplicationTests       : Starting RegistryApplicationTests using Java 17.0.3 with PID 25291 (started by daasalbion in /Users/daasalbion/Projects/daas/microservices/registry)
2023-08-17T12:30:13.163-04:00  INFO 25291 --- [main] p.c.d.m.r.RegistryApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-08-17T12:30:13.174-04:00  INFO 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://config-server:8888
2023-08-17T12:30:13.174-04:00  INFO 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://config-server:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://config-server:8888/eureka/default": config-server. Will be trying the next url if available
2023-08-17T12:30:13.174-04:00  WARN 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Could not locate PropertySource ([ConfigServerConfigDataResource@2e2f720 uris = array<String>['http://config-server:8888'], optional = true, profiles = list['default']]): I/O error on GET request for "http://config-server:8888/eureka/default": config-server
2023-08-17T12:30:13.174-04:00  INFO 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://config-server:8888
2023-08-17T12:30:13.174-04:00  INFO 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://config-server:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://config-server:8888/eureka/default": config-server. Will be trying the next url if available
2023-08-17T12:30:13.174-04:00  WARN 25291 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Could not locate PropertySource ([ConfigServerConfigDataResource@7f572c37 uris = array<String>['http://config-server:8888'], optional = true, profiles = list['default']]): I/O error on GET request for "http://config-server:8888/eureka/default": config-server
2023-08-17T12:30:13.616-04:00  INFO 25291 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ce3c48ca-544b-33b5-af3b-3536a0a74e72
2023-08-17T12:30:13.938-04:00  INFO 25291 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2023-08-17T12:30:13.956-04:00  INFO 25291 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6abe62bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f60824e, org.springframework.security.web.context.SecurityContextHolderFilter@1f3c5308, org.springframework.security.web.header.HeaderWriterFilter@2c2aab92, org.springframework.security.web.csrf.CsrfFilter@22cd8ec2, org.springframework.security.web.authentication.logout.LogoutFilter@7079f8f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51e94b7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fc1e4fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1218e12, org.springframework.security.web.access.ExceptionTranslationFilter@6cee903a]
2023-08-17T12:30:14.257-04:00  WARN 25291 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-08-17T12:30:14.341-04:00  INFO 25291 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2023-08-17T12:30:14.369-04:00  INFO 25291 --- [main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...
2023-08-17T12:30:14.370-04:00  WARN 25291 --- [main] c.n.eureka.cluster.PeerEurekaNodes       : The replica size seems to be empty. Check the route 53 DNS Registry
2023-08-17T12:30:14.402-04:00  INFO 25291 --- [main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []
2023-08-17T12:30:14.403-04:00  INFO 25291 --- [main] c.n.eureka.DefaultEurekaServerContext    : Initialized
2023-08-17T12:30:14.471-04:00  INFO 25291 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application EUREKA with eureka with status UP
2023-08-17T12:30:14.475-04:00  INFO 25291 --- [Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : isAws returned false
2023-08-17T12:30:14.476-04:00  INFO 25291 --- [Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Initialized server context
2023-08-17T12:30:14.476-04:00  INFO 25291 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Got 1 instances from neighboring DS node
2023-08-17T12:30:14.476-04:00  INFO 25291 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Renew threshold is: 1
2023-08-17T12:30:14.476-04:00  INFO 25291 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Changing status to UP
2023-08-17T12:30:14.480-04:00  INFO 25291 --- [Thread-10] e.s.EurekaServerInitializerConfiguration : Started Eureka Server
2023-08-17T12:30:14.482-04:00  INFO 25291 --- [main] p.c.d.m.r.RegistryApplicationTests       : Started RegistryApplicationTests in 1.638 seconds (process running for 2.012)
2023-08-17T12:30:14.488-04:00 ERROR 25291 --- [registrationTask1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

java.lang.IllegalStateException: couldn't determine local port. Please set spring.boot.admin.client.instance.service-base-url.
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getLocalServerPort(DefaultApplicationFactory.java:205) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getServiceBaseUrl(DefaultApplicationFactory.java:109) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.ServletApplicationFactory.getServiceUrl(ServletApplicationFactory.java:62) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.ServletApplicationFactory.getManagementBaseUrl(ServletApplicationFactory.java:77) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getHealthUrl(DefaultApplicationFactory.java:165) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.createApplication(DefaultApplicationFactory.java:80) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationRegistrator.register(DefaultApplicationRegistrator.java:56) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.9.jar:6.0.9]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-08-17T12:30:14.665-04:00  INFO 25291 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application EUREKA with eureka with status DOWN
2023-08-17T12:30:14.665-04:00  INFO 25291 --- [SpringApplicationShutdownHook] o.s.c.n.e.server.EurekaServerBootstrap   : Shutting down Eureka Server..
2023-08-17T12:30:14.668-04:00  INFO 25291 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...
2023-08-17T12:30:14.672-04:00  INFO 25291 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shut down
2023-08-17T12:30:14.672-04:00  INFO 25291 --- [SpringApplicationShutdownHook] o.s.c.n.e.server.EurekaServerBootstrap   : Eureka Service is now shutdown...
2023-08-17T12:30:14.672-04:00  INFO 25291 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...
2023-08-17T12:30:14.674-04:00  INFO 25291 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shut down
2023-08-17T12:31:05.796-04:00  INFO 25411 --- [main] p.c.d.m.r.RegistryApplicationTests       : Starting RegistryApplicationTests using Java 17.0.3 with PID 25411 (started by daasalbion in /Users/daasalbion/Projects/daas/microservices/registry)
2023-08-17T12:31:05.798-04:00  INFO 25411 --- [main] p.c.d.m.r.RegistryApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-08-17T12:31:05.810-04:00  INFO 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://config-server:8888
2023-08-17T12:31:05.811-04:00  INFO 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://config-server:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://config-server:8888/eureka/default": config-server. Will be trying the next url if available
2023-08-17T12:31:05.811-04:00  WARN 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Could not locate PropertySource ([ConfigServerConfigDataResource@2e2f720 uris = array<String>['http://config-server:8888'], optional = true, profiles = list['default']]): I/O error on GET request for "http://config-server:8888/eureka/default": config-server
2023-08-17T12:31:05.811-04:00  INFO 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://config-server:8888
2023-08-17T12:31:05.811-04:00  INFO 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://config-server:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://config-server:8888/eureka/default": config-server. Will be trying the next url if available
2023-08-17T12:31:05.811-04:00  WARN 25411 --- [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Could not locate PropertySource ([ConfigServerConfigDataResource@7f572c37 uris = array<String>['http://config-server:8888'], optional = true, profiles = list['default']]): I/O error on GET request for "http://config-server:8888/eureka/default": config-server
2023-08-17T12:31:06.245-04:00  INFO 25411 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ce3c48ca-544b-33b5-af3b-3536a0a74e72
2023-08-17T12:31:06.592-04:00  INFO 25411 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2023-08-17T12:31:06.610-04:00  INFO 25411 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b99c937, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26c59348, org.springframework.security.web.context.SecurityContextHolderFilter@4468fda8, org.springframework.security.web.header.HeaderWriterFilter@51e94b7d, org.springframework.security.web.csrf.CsrfFilter@7ee64b53, org.springframework.security.web.authentication.logout.LogoutFilter@1f60824e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29aa4bc9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4768b95c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1de12397, org.springframework.security.web.access.ExceptionTranslationFilter@1f3c5308]
2023-08-17T12:31:06.903-04:00  WARN 25411 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-08-17T12:31:06.983-04:00  INFO 25411 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2023-08-17T12:31:07.014-04:00  INFO 25411 --- [main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...
2023-08-17T12:31:07.015-04:00  WARN 25411 --- [main] c.n.eureka.cluster.PeerEurekaNodes       : The replica size seems to be empty. Check the route 53 DNS Registry
2023-08-17T12:31:07.051-04:00  INFO 25411 --- [main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []
2023-08-17T12:31:07.056-04:00  INFO 25411 --- [main] c.n.eureka.DefaultEurekaServerContext    : Initialized
2023-08-17T12:31:07.125-04:00  INFO 25411 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application EUREKA with eureka with status UP
2023-08-17T12:31:07.130-04:00  INFO 25411 --- [Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : isAws returned false
2023-08-17T12:31:07.130-04:00  INFO 25411 --- [Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Initialized server context
2023-08-17T12:31:07.131-04:00  INFO 25411 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Got 1 instances from neighboring DS node
2023-08-17T12:31:07.131-04:00  INFO 25411 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Renew threshold is: 1
2023-08-17T12:31:07.131-04:00  INFO 25411 --- [Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Changing status to UP
2023-08-17T12:31:07.137-04:00  INFO 25411 --- [main] p.c.d.m.r.RegistryApplicationTests       : Started RegistryApplicationTests in 1.67 seconds (process running for 2.061)
2023-08-17T12:31:07.144-04:00 ERROR 25411 --- [registrationTask1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

java.lang.IllegalStateException: couldn't determine local port. Please set spring.boot.admin.client.instance.service-base-url.
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getLocalServerPort(DefaultApplicationFactory.java:205) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getServiceBaseUrl(DefaultApplicationFactory.java:109) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.ServletApplicationFactory.getServiceUrl(ServletApplicationFactory.java:62) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.ServletApplicationFactory.getManagementBaseUrl(ServletApplicationFactory.java:77) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.getHealthUrl(DefaultApplicationFactory.java:165) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationFactory.createApplication(DefaultApplicationFactory.java:80) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at de.codecentric.boot.admin.client.registration.DefaultApplicationRegistrator.register(DefaultApplicationRegistrator.java:56) ~[spring-boot-admin-client-3.0.4.jar:3.0.4]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.9.jar:6.0.9]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-08-17T12:31:07.163-04:00  INFO 25411 --- [Thread-10] e.s.EurekaServerInitializerConfiguration : Started Eureka Server
2023-08-17T12:31:07.330-04:00  INFO 25411 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application EUREKA with eureka with status DOWN
2023-08-17T12:31:07.331-04:00  INFO 25411 --- [SpringApplicationShutdownHook] o.s.c.n.e.server.EurekaServerBootstrap   : Shutting down Eureka Server..
2023-08-17T12:31:07.348-04:00  INFO 25411 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...
2023-08-17T12:31:07.352-04:00  INFO 25411 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shut down
2023-08-17T12:31:07.352-04:00  INFO 25411 --- [SpringApplicationShutdownHook] o.s.c.n.e.server.EurekaServerBootstrap   : Eureka Service is now shutdown...
2023-08-17T12:31:07.353-04:00  INFO 25411 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...
2023-08-17T12:31:07.355-04:00  INFO 25411 --- [SpringApplicationShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shut down
